{"version":3,"sources":["components/Header/Header.tsx","components/PieChart/PieChart.js","components/Week/Week.tsx","components/ResultAI/ResultAI.tsx","components/Top5List/Top5List.tsx","components/LineChart/LineChart.js","services/api.ts","helper.ts","components/Footer/Footer.tsx","pages/App.tsx","store/actions/notasOperadas.ts","store/actions/resumoOperacoes.ts","store/actions/resumoAi.ts","store/actions/top5.ts","store/actions/calibreCurve.ts","services/auth.ts","components/Input/Input.tsx","pages/SignIn/SignIn.tsx","PrivateRoute.tsx","Routes.tsx","store/reducers/resumoOperacoes.ts","store/reducers/notasOperadas.ts","store/reducers/resumoAi.ts","store/reducers/top5.ts","store/reducers/calibreCurve.ts","store/reducers/rootReducer.ts","store/store.ts","index.tsx"],"names":["Header","className","PieChart","props","chart","useRef","useState","values","labels","type","data","setData","layout","margin","r","l","t","b","autoexpand","piecolorway","useEffect","valuesToNumber","map","value","parseFloat","Plotly","current","ref","style","width","height","Week","renderWeek","cedente","index","preditc","predict","label","prob_predict_0","prob_predict_1","setPreditc","key","background","sacado","dataVencimento","ResulAI","categories","setCategories","roundAtraso","atraso","toFixed","roundEmDia","em_dia","colSpan","textAlign","data-alt","fontWeight","Top5","top5Itens","slice","renderData","LineChart","calib_perfect_x","calib_perfect_y","logreg_x","logreg_y","Data","x","y","mode","line","color","xaxis","label_x","yaxis","label_y","uirevision","autorange","showlegend","Plot","react","responsive","console","log","id","api","axios","create","baseURL","maskDate","date","findDate","match","join","my","split","length","Footer","App","dispatch","useDispatch","notasOp","useSelector","notasOperadas","resumoOp","resumoOperacoes","resumoAi","top5","calibreCv","calibreCurve","a","async","get","payload","response","top_5","total_notas","dia_pred","pred_until","auth","Input","name","onChange","e","target","event","classList","add","remove","handleChange","data-err","errData","htmlFor","InitialState","email","password","initialErr","err","SignIn","history","credentials","setCredentials","isRequest","onSubmit","preventDefault","post","token","localStorage","setItem","push","handleSubmit","required","disabled","PrivateRoute","Component","component","rest","render","getItem","to","pathname","state","from","location","Routes","exact","path","initialState","action","accuracy","legend","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3b3ec5b8.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n// styles\r\nimport './Header.css'\r\n\r\nfunction Header () {\r\n  return (\r\n    <header className=\"header-top\">\r\n      {/* <img src={require('../../img/logo.png')} alt=\"logo\" /> */}\r\n      <h1>Openbox.ai</h1>\r\n      <h1>Dashboard A.I</h1>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React, { useRef, useEffect, useState } from \"react\";\r\nimport * as Plotly from \"plotly.js\";\r\n\r\nconst PieChart = props => {\r\n  const chart = useRef(null);\r\n\r\n  const [data, setData] = useState({\r\n    values: [0, 0],\r\n    labels: [\"Atraso\", \"Em dia\"],\r\n    type: \"pie\"\r\n  });\r\n\r\n  const layout = {\r\n    margin: {\r\n      r: 0,\r\n      l: 0,\r\n      t: 0,\r\n      b: 0\r\n    },\r\n    autoexpand: false,\r\n    piecolorway: [\"#512DA8\", \"#FF4081\"]\r\n  };\r\n\r\n  useEffect(() => {\r\n    const { labels, values } = props.data;\r\n\r\n    const valuesToNumber = values.map(value => parseFloat(value));\r\n\r\n    setData({ ...data, labels, values: valuesToNumber });\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props]);\r\n\r\n  useEffect(() => {\r\n    Plotly.newPlot(chart.current, [data], layout);\r\n  }, [data, layout]);\r\n\r\n  return <div ref={chart} style={{ width: 250, height: 250 }} />;\r\n};\r\n\r\nexport default PieChart;\r\n","import React from 'react'\r\nimport './Week.css'\r\n\r\ninterface Props {\r\n  cedente: string[]\r\n  sacado: string[]\r\n  dataVencimento: string[]\r\n  predict: number[]\r\n  prob_predict_0: number[]\r\n  prob_predict_1: number[]\r\n}\r\n\r\nconst Week = (props: Props) => {\r\n\r\n  const setPreditc = (index: number) => {\r\n    if (props.predict[index] === 0) {\r\n      return {\r\n        label: 'Confiança em dia',\r\n        value: props.prob_predict_0[index]\r\n      }\r\n    }\r\n    return {\r\n      label: 'Confiança em atraso',\r\n      value: props.prob_predict_1[index]\r\n    }\r\n  }\r\n  \r\n  const renderWeek = props.cedente.map((value, index: number) => {\r\n\r\n    const preditc = setPreditc(index)\r\n\r\n    return (\r\n      <div className=\"card-resultado-semana\" key={ index }>\r\n        <header>\r\n          <strong>{ value }</strong>\r\n          <div className=\"row\">\r\n            { preditc.value < 0.7 && <span style={{ background: 'tomato' }} className=\"status\">!</span> }\r\n            { preditc.value > 0.7 && preditc.value < 0.85 && <span style={{ background: '#e9c629' }} className=\"status\">!</span> }\r\n            { preditc.value > 0.85 && <span style={{ background: '#66e929' }} className=\"status\"><i className=\"material-icons\">done</i></span> }\r\n            <p>{ preditc.label }</p>\r\n          </div>\r\n        </header>\r\n        <div>\r\n          <p>{props.sacado[index]}</p>\r\n          <span>Vencimento: {props.dataVencimento[index]}</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  })\r\n  return (\r\n    <>\r\n      { renderWeek }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Week\r\n\r\n// TEDESCO EQUIPAMENTOS PARA GASTRON\r\n\r\n// BAMAQ COM DE BAL E MAQ LTDA\r\n\r\n// vencimento: 2020-01-17 00:00:00","import React, { useState, useEffect } from 'react'\r\n\r\n// types\r\nimport {InitialStateResumoAi} from '../../store/reducers/resumoAi'\r\n\r\n// css\r\nimport './ResultAI.css'\r\n\r\ntype State = { atraso: number[], em_dia: number[] }\r\nfunction ResulAI(props: InitialStateResumoAi) {\r\n\r\n  const [categories, setCategories] = useState<State>()\r\n\r\n  useEffect(() => {\r\n\r\n      // porcentagem\r\n    const roundAtraso = props.categories?.atraso?.map((value) => parseFloat(value.toFixed(1)) * 100)\r\n    const roundEmDia = props.categories?.em_dia?.map(value => parseFloat(value.toFixed(1)) * 100)\r\n\r\n    setCategories({ atraso: roundAtraso, em_dia: roundEmDia })\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props.categories]);\r\n  \r\n  return (\r\n    <table className=\"result-ai\">\r\n      <thead>\r\n        <th colSpan={2} style={{textAlign: 'right'}}>Precisão</th>\r\n        <th>Lembrança</th>\r\n        <th className=\"alt\" data-alt=\"Média armonica entre a precisão e a lembrança\">F1-score</th>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td style={{ fontWeight: 'bold' }}>atraso</td>\r\n          { categories?.atraso?.map((value, index) => <td key={index}>{value}%</td>) }\r\n        </tr>\r\n\r\n        <tr>\r\n          <td style={{ fontWeight: 'bold' }}>em dia</td>\r\n          { categories?.em_dia?.map((value, index) => <td key={index}>{value}%</td>) }\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  )\r\n}\r\n\r\nexport default ResulAI","import React, { useEffect } from 'react'\r\n\r\n// css\r\nimport './Top5List.css'\r\n\r\ntype Props = {\r\n  data: {\r\n    label?: string | undefined;\r\n    value?: number | undefined;\r\n  }[]\r\n}\r\n\r\nfunction Top5({ data }: Props) {\r\n\r\n  const top5Itens = data.slice(0, 5)\r\n\r\n  const renderData = top5Itens?.map((value, index: number) => (\r\n    <tr key={ index }>\r\n      <td>{ value.label }</td>\r\n    </tr>\r\n  ))\r\n\r\n  return (\r\n    <table className=\"top5\">\r\n      { renderData }\r\n    </table>\r\n  )\r\n}\r\n\r\nexport default Top5\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport Plot from \"plotly.js\";\r\n\r\n// css\r\nimport \"./LineChart.css\";\r\n\r\nfunction LineChart({ data }) {\r\n  const chart = useRef(null);\r\n\r\n  const { calib_perfect_x, calib_perfect_y, logreg_x, logreg_y, labels } = data;\r\n\r\n  const Data = [\r\n    {\r\n      x: calib_perfect_x,\r\n      y: calib_perfect_y,\r\n      mode: \"lines\",\r\n      line: { color: \"#000\" },\r\n      xaxis: labels.label_x,\r\n      yaxis: labels.label_y,\r\n      \"line.dash\": \"dot\"\r\n    },\r\n    {\r\n      x: logreg_x,\r\n      y: logreg_y,\r\n      xaxis: labels.label_x,\r\n      yaxis: labels.label_y,\r\n      mode: \"lines+markers\",\r\n      line: { color: \"rgb(81, 45, 168)\" }\r\n    }\r\n  ];\r\n\r\n  const layout = {\r\n    uirevision: \"true\",\r\n    xaxis: { autorange: true },\r\n    yaxis: { autorange: true },\r\n    height: \"100%\",\r\n    margin: {\r\n      l: 0,\r\n      r: 0,\r\n      t: 0,\r\n      b: 0\r\n    },\r\n    showlegend: false\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (chart) {\r\n      Plot.react(chart.current, Data, layout, { responsive: true });\r\n    }\r\n\r\n    console.log(logreg_x);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data]);\r\n\r\n  return <div ref={chart} className=\"line-chart\" id=\"line-mob\"></div>;\r\n}\r\n\r\nexport default LineChart;\r\n","import axios from 'axios'\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://ec2-3-89-219-146.compute-1.amazonaws.com'\r\n})\r\n\r\nexport default api","export function maskDate(date: string) {\r\n  const regEx = /[0-9]*-[0-9]*-[0-9]*/;\r\n  const findDate = date.match(regEx)?.join();\r\n  const my = findDate?.split(\"-\");\r\n\r\n  if(my?.length === 3) {\r\n    const formatDate = [my[2], my[1], my[0]].join(\"/\");\r\n    return formatDate;\r\n  }\r\n}\r\n\r\nexport function percent(value: number) {\r\n  const round = parseFloat(value.toFixed(1))\r\n  return `${round}%`\r\n}","import React from 'react'\r\n\r\nimport './Footer.css'\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer-bottom\">\r\n      <h4>© Openbox.ai - 2019</h4> \r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\n// components\r\nimport Header from \"../components/Header/Header\";\r\nimport PieChart from \"../components/PieChart/PieChart\";\r\nimport Week from \"../components/Week/Week\";\r\nimport ResultAI from '../components/ResultAI/ResultAI'\r\nimport Top5List from '../components/Top5List/Top5List';\r\nimport LineChart from \"../components/LineChart/LineChart\";\r\n\r\n// css\r\nimport \"./App.css\";\r\n\r\n// types\r\nimport { InitialStateResumoOp } from '../store/reducers/resumoOperacoes'\r\nimport { InitialStateNotasOp } from '../store/reducers/notasOperadas'\r\nimport { InitialStateResumoAi } from '../store/reducers/resumoAi'\r\nimport { InitialStateTop5 } from \"../store/reducers/top5\";\r\nimport { InitialStateCalibre } from '../store/reducers/calibreCurve'\r\n// actions - redux\r\nimport { getResumoOperacoes } from '../store/actions/resumoOperacoes'\r\nimport { getNotasOperadas  } from '../store/actions/notasOperadas'\r\nimport { getResumoAi } from '../store/actions/resumoAi'\r\nimport { getTop5 } from '../store/actions/top5'\r\nimport { getCalibreCurve } from '../store/actions/calibreCurve'\r\nimport { maskDate } from \"../helper\";\r\nimport Footer from \"../components/Footer/Footer\";\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch()\r\n\r\n  const notasOp: InitialStateNotasOp = useSelector((value: any) => value.notasOperadas)\r\n  const resumoOp: InitialStateResumoOp = useSelector((value: any) => value.resumoOperacoes)\r\n  const resumoAi: InitialStateResumoAi = useSelector((value: any) => value.resumoAi)\r\n  const top5: InitialStateTop5 = useSelector((value: any) => value.top5)\r\n  const calibreCv: InitialStateCalibre = useSelector((value: any) => value.calibreCurve)\r\n\r\n  useEffect(() => { \r\n    dispatch(getNotasOperadas())\r\n    dispatch(getResumoOperacoes())\r\n    dispatch(getResumoAi())\r\n    dispatch(getTop5())\r\n    dispatch(getCalibreCurve())\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  // useEffect(() => {\r\n  //   console.log(calibreCv)\r\n  // }, [calibreCv])\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"app\">\r\n        \r\n        <div className=\"layer1\">\r\n          <div className=\"charts-container card\">\r\n            <div className=\"card-chart\">\r\n              <header>\r\n                <h3>Quantidade de notas por categoria</h3>\r\n              </header>\r\n              <PieChart data={notasOp} />\r\n              <footer>\r\n                <span>Total de notas operadas: {notasOp?.total_notas}</span>\r\n                <span className=\"alt\" data-alt=\"A quantidade de notas mostradas no gráfico fazem referência a quantidade de notas utilizadas no treinamento do modelo de machine learning, ou seja, onde o cenário fora concluído.\">\r\n                  <i className=\"material-icons\">help</i>\r\n                </span>\r\n              </footer>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"resultado-semana-container card\">\r\n            <h3>Resumo de operações da semana</h3>\r\n            <span style={{ fontWeight: 'bold' }}>data de operação</span>            \r\n            <span className=\"data\">{`${maskDate(resumoOp.dia_pred)} à ${maskDate(resumoOp.pred_until)}`}</span>\r\n            <div className=\"scrollable\">\r\n              <Week \r\n                cedente={ resumoOp.cedente } \r\n                sacado={ resumoOp.sacado } \r\n                dataVencimento={ resumoOp.dataVencimento } \r\n                predict={ resumoOp.predict} \r\n                prob_predict_0={ resumoOp.prob_predict_0}\r\n                prob_predict_1={ resumoOp.prob_predict_1 } />\r\n            </div>\r\n          </div>\r\n            <div className=\"layer2\">\r\n              <div className=\"result-ai-container card\">\r\n                <ResultAI \r\n                  categories={resumoAi.categories} />\r\n              </div>\r\n\r\n              <div className=\"card top-5-container\">\r\n                <h3>Top 5 influências</h3>\r\n                <Top5List data={ top5 } />\r\n              </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n        <div className=\"card line-chart-container\">\r\n          <header>\r\n            <h3>Curva de Calibração (Confiança)</h3>\r\n            <div className=\"legend\">\r\n              <span className=\"bullet1\"></span>\r\n              <legend>Calibração Ideal</legend>\r\n            </div>\r\n            <div className=\"legend\">\r\n              <span className=\"bullet2\"></span>\r\n              <legend>Regressão Logística</legend>\r\n            </div>\r\n          </header>\r\n          <LineChart data={ calibreCv }/>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import api from '../../services/api'\r\n\r\nexport function getNotasOperadas() {\r\n\r\n  return async (dispatch: any) => {\r\n    const { data } = await api.get('/notas');\r\n    dispatch({ type: 'GET_NOTAS', payload: data })\r\n  }\r\n}","import api from '../../services/api'\r\n\r\nexport function getResumoOperacoes() {\r\n\r\n  return async (dispatch: any) => {\r\n    const { data } = await api.get('/consulta/predict_semanal');\r\n    dispatch({ type: 'GET_RESUMOS', payload: data })\r\n  }\r\n}","import api from '../../services/api'\r\n\r\nexport function getResumoAi() {\r\n  \r\n  return async (dispatch: any) => {\r\n    const { data } = await api.get('/resumo_ai');\r\n    dispatch({ type: 'GET_RESUMO_AI', payload: data })\r\n  }\r\n}","import api from '../../services/api'\r\n\r\nexport function getTop5() {\r\n\r\n  return async (dispatch: any) => {\r\n    const response = await api.get('/top_5')\r\n    dispatch({ type: 'GET_TOP5', payload: response.data.top_5 })\r\n  }\r\n}","import api from '../../services/api'\r\n\r\nexport function getCalibreCurve() {\r\n\r\n  return async (dispatch: any) => {\r\n    const { data } = await api.get('/consulta/calib_curve')\r\n    dispatch({ type: 'GET_LINECHART_DATA', payload: data })\r\n  }\r\n}","import axios from 'axios'\r\n\r\nconst auth = axios.create({\r\n  baseURL: 'http://localhost:3001',\r\n})\r\n\r\nexport default auth\r\n","import React, { FunctionComponent } from 'react'\r\nimport './Input.css'\r\n\r\ntype Props = {\r\n  label: string\r\n  id: string\r\n  err?: boolean\r\n  errData?: string\r\n  event: (value: string, id: string) => void\r\n} & React.InputHTMLAttributes<HTMLInputElement>\r\n\r\nconst Input: FunctionComponent<Props> = ({label, ...props}) => {\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { value, id } = e.target\r\n    props.event(value, id)\r\n\r\n    e.target.value.length > 0 \r\n      ? e.target.classList.add('not-empty') \r\n      : e.target.classList.remove('not-empty');\r\n  }\r\n  return (\r\n    <div className=\"input-fiuld\">\r\n      <input \r\n        type={props.type || 'text'}\r\n        id={props.id} \r\n        name={props.name}\r\n        onChange={value => handleChange(value)}\r\n        data-err={props.errData}\r\n        />\r\n      <label htmlFor={props.id}>{ label }</label>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Input","import React, { useState, useEffect,FormEvent } from 'react'\r\n\r\nimport auth from '../../services/auth'\r\n\r\n// css\r\nimport './SignIn.css'\r\nimport Input from '../../components/Input/Input'\r\nimport { RouteChildrenProps } from 'react-router-dom'\r\n\r\n\r\n\r\nconst InitialState = { email: '', password: '' }\r\nconst initialErr = { err: '' }\r\n\r\ntype Credentials = typeof InitialState\r\ntype Err = typeof initialErr\r\n\r\nfunction SignIn({ history }: RouteChildrenProps) {\r\n\r\n  const [credentials, setCredentials] = useState<Credentials>(InitialState)\r\n  const [err, setErr] = useState<Err>(initialErr)\r\n  const [isRequest, setIsRequest] = useState(false)\r\n\r\n  const handleSubmit = async (e: FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    const { data } = await auth.post('/signin', credentials)\r\n\r\n    if(data.token) {\r\n      localStorage.setItem('token', data.token)\r\n      history.push('/dashboard')\r\n    }\r\n    \r\n  }\r\n\r\n  const handleChange = (value: string, id: string) => {\r\n    setCredentials({...credentials, [id]: value })\r\n  }\r\n\r\n  return (\r\n    <main id=\"signin\">\r\n        <form onSubmit={ e => handleSubmit(e) }>\r\n          <Input \r\n            label=\"e-mail\" \r\n            id=\"email\" \r\n            event={handleChange}\r\n            value={credentials.email} \r\n            required \r\n            disabled={ isRequest && true } \r\n            errData=\"sadadas\" />\r\n          <Input \r\n            label=\"senha\" \r\n            id=\"password\" \r\n            type=\"password\" \r\n            event={handleChange} \r\n            value={credentials.password} \r\n            required \r\n            disabled={ isRequest && true } />\r\n\r\n          <button type=\"submit\" className=\"submit\">submit</button>\r\n        </form>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default SignIn","import React from \"react\";\r\n\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\ninterface Props {\r\n  exact?: boolean;\r\n  path: string;\r\n  component: React.ComponentType<any>;\r\n}\r\n\r\nconst PrivateRoute: React.FC<Props> = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n    {...rest}\r\n    render={props =>\r\n      localStorage.getItem(\"token\") ? (\r\n        <Component {...props}/>\r\n      ) : (\r\n        <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\r\n      )\r\n    }\r\n  />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react'\r\n\r\nimport { BrowserRouter, Route, Switch, Redirect, RouteProps} from 'react-router-dom'\r\nimport App from './pages/App'\r\nimport SignIn from './pages/SignIn/SignIn'\r\nimport PrivateRoute from './PrivateRoute'\r\n\r\n\r\nfunction Routes () {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <PrivateRoute  component={SignIn} exact path=\"/\" />\r\n        <Route path=\"/dashboard\" component={App}/>\r\n      </Switch>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default Routes","import { Action } from './rootReducer'\r\n\r\nimport notas_json  from '../../services/result_semana.json'\r\n\r\nconst initialState = notas_json\r\n\r\nexport type InitialStateResumoOp = typeof initialState\r\n\r\nfunction resumoOperacoes(state = initialState, action: Action<InitialStateResumoOp>): InitialStateResumoOp {\r\n  switch(action.type) {\r\n    case 'GET_RESUMOS':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default resumoOperacoes","import { Action } from './rootReducer'\r\n\r\nconst initialState = {\r\n    values: [0, 0],\r\n    labels: [\"Atraso\", \"Em dia\"],\r\n    total_notas: 0\r\n  }\r\n\r\nexport type InitialStateNotasOp = typeof initialState\r\n\r\nfunction notasOperadas (state = initialState, action: Action<InitialStateNotasOp>): InitialStateNotasOp {\r\n  switch(action.type) {\r\n    case 'GET_NOTAS':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default notasOperadas","import { Action } from './rootReducer'\r\n\r\n\r\nconst initialState = {\r\n  accuracy: 0,\r\n  categories: {\r\n  atraso: [\r\n  0,\r\n  0,\r\n  0\r\n  ],\r\n  em_dia: [\r\n  0,\r\n  0,\r\n  0\r\n  ]\r\n  },\r\n}\r\n\r\nexport type InitialStateResumoAi = {\r\n  accuracy?: number\r\n  categories: {\r\n    atraso: number[]\r\n    em_dia: number[]\r\n  }\r\n}\r\n\r\nfunction resumoOperacoes(state: InitialStateResumoAi = initialState, action: Action<InitialStateResumoAi>): InitialStateResumoAi {\r\n  switch(action.type) {\r\n    case 'GET_RESUMO_AI':\r\n      return action.payload;\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default resumoOperacoes","import { Action } from \"./rootReducer\";\r\n\r\nconst initialState = [{\r\n  label: '',\r\n  value: 0\r\n}]\r\n\r\nexport type InitialStateTop5 = Payload\r\ntype Payload = { label?: string, value?: number}[]\r\n\r\nexport default function top5Reducer(state = initialState, action: Action<Payload>) {\r\n  switch(action.type) {\r\n    case 'GET_TOP5':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}","import { Action } from './rootReducer'\r\n\r\nconst initialState = {\r\n  calib_perfect_x: [0],\r\n  calib_perfect_y: [0],\r\n  labels: {\r\n    label_x: '',\r\n    label_y: ''\r\n  },\r\n  legend: [''],\r\n  logreg_x: [0],\r\n  logreg_y: [0]\r\n}\r\n\r\nexport type InitialStateCalibre = typeof initialState\r\n\r\nfunction calibreCurve (state = initialState, action: Action<InitialStateCalibre>) {\r\n  switch(action.type) {\r\n    case 'GET_LINECHART_DATA':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default  calibreCurve","import { combineReducers } from 'redux'\r\n\r\nimport resumoOperacoes from './resumoOperacoes'\r\nimport notasOperadas from './notasOperadas'\r\nimport resumoAi from './resumoAi'\r\nimport top5 from './top5'\r\nimport calibreCurve from './calibreCurve'\r\n\r\nexport type Action<T> = { type: string, payload: T }\r\n\r\nconst rootReducer = combineReducers({ resumoOperacoes, notasOperadas, resumoAi, top5, calibreCurve })\r\n\r\nexport default rootReducer\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport rootReducer from './reducers/rootReducer'\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Routes from './Routes';\nimport { Provider } from 'react-redux'\nimport store from './store/store'\n\nReactDOM.render(<Provider store={store}><Routes /></Provider>, document.getElementById('root'));\n\n"],"sourceRoot":""}