(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{1370:function(e,a,t){},1371:function(e,a,t){},1372:function(e,a,t){},1373:function(e,a,t){},1374:function(e,a,t){},1392:function(e,a,t){},1393:function(e,a,t){},1394:function(e,a,t){},1397:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(199),c=t.n(l),o=(t(578),t(312)),E=t(90),s=t(80);t(583);var i=function(){return r.a.createElement("header",{className:"header-top"},r.a.createElement("h1",null,"Openbox.ai"),r.a.createElement("h1",null,"Dashboard A.I"))},u=t(201),d=t(89),A=t(203),m=t.n(A),O=function(e){var a=Object(n.useRef)(null),t=Object(n.useState)({values:[0,0],labels:["Atraso","Em dia"],type:"pie"}),l=Object(d.a)(t,2),c=l[0],o=l[1],E={margin:{r:0,l:0,t:0,b:0},autoexpand:!1,piecolorway:["#512DA8","#FF4081"]};return Object(n.useEffect)((function(){var a=e.data,t=a.labels,n=a.values.map((function(e){return parseFloat(e)}));o(Object(u.a)({},c,{labels:t,values:n}))}),[e]),Object(n.useEffect)((function(){A.newPlot(a.current,[c],E)}),[c,E]),r.a.createElement("div",{ref:a,style:{width:250,height:250}})},p=(t(1370),function(e){var a=e.cedente.map((function(a,t){var n=function(a){return 0===e.predict[a]?{label:"Confian\xe7a em dia",value:e.prob_predict_0[a]}:{label:"Confian\xe7a em atraso",value:e.prob_predict_1[a]}}(t);return r.a.createElement("div",{className:"card-resultado-semana",key:t},r.a.createElement("header",null,r.a.createElement("strong",null,a),r.a.createElement("div",{className:"row"},n.value<.7&&r.a.createElement("span",{style:{background:"tomato"},className:"status"},"!"),n.value>.7&&n.value<.85&&r.a.createElement("span",{style:{background:"#e9c629"},className:"status"},"!"),n.value>.85&&r.a.createElement("span",{style:{background:"#66e929"},className:"status"},r.a.createElement("i",{className:"material-icons"},"done")),r.a.createElement("p",null,n.label))),r.a.createElement("div",null,r.a.createElement("p",null,e.sacado[t]),r.a.createElement("span",null,"Vencimento: ",e.dataVencimento[t])))}));return r.a.createElement(r.a.Fragment,null,a)});t(1371);var T=function(e){var a,t,l=Object(n.useState)(),c=Object(d.a)(l,2),o=c[0],E=c[1];return Object(n.useEffect)((function(){var a,t,n,r,l=null===(a=e.categories)||void 0===a?void 0:null===(t=a.atraso)||void 0===t?void 0:t.map((function(e){return 100*parseFloat(e.toFixed(1))})),c=null===(n=e.categories)||void 0===n?void 0:null===(r=n.em_dia)||void 0===r?void 0:r.map((function(e){return 100*parseFloat(e.toFixed(1))}));E({atraso:l,em_dia:c})}),[e.categories]),r.a.createElement("table",{className:"result-ai"},r.a.createElement("thead",null,r.a.createElement("th",{colSpan:2,style:{textAlign:"right"}},"Precis\xe3o"),r.a.createElement("th",null,"Lembran\xe7a"),r.a.createElement("th",{className:"alt","data-alt":"M\xe9dia armonica entre a precis\xe3o e a lembran\xe7a"},"F1-score")),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{fontWeight:"bold"}},"atraso"),null===o||void 0===o?void 0:null===(a=o.atraso)||void 0===a?void 0:a.map((function(e,a){return r.a.createElement("td",{key:a},e,"%")}))),r.a.createElement("tr",null,r.a.createElement("td",{style:{fontWeight:"bold"}},"em dia"),null===o||void 0===o?void 0:null===(t=o.em_dia)||void 0===t?void 0:t.map((function(e,a){return r.a.createElement("td",{key:a},e,"%")})))))};t(1372);var S=function(e){var a=e.data.slice(0,5),t=null===a||void 0===a?void 0:a.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.label))}));return r.a.createElement("table",{className:"top5"},t)};t(1373);var v=function(e){var a=e.data,t=Object(n.useRef)(null),l=a.calib_perfect_x,c=a.calib_perfect_y,o=a.logreg_x,E=a.logreg_y,s=a.labels,i=[{x:l,y:c,mode:"lines",line:{color:"#000"},xaxis:s.label_x,yaxis:s.label_y,"line.dash":"dot"},{x:o,y:E,xaxis:s.label_x,yaxis:s.label_y,mode:"lines+markers",line:{color:"rgb(81, 45, 168)"}}],u={uirevision:"true",xaxis:{autorange:!0},yaxis:{autorange:!0},height:"100%",margin:{l:0,r:0,t:0,b:0},showlegend:!1};return Object(n.useEffect)((function(){t&&m.a.react(t.current,i,u,{responsive:!0}),console.log(o)}),[a]),r.a.createElement("div",{ref:t,className:"line-chart",id:"line-mob"})},R=(t(1374),t(35)),N=t.n(R),f=t(204),I=t.n(f),b=I.a.create({baseURL:"http://ec2-3-89-219-146.compute-1.amazonaws.com"});function D(e){var a,t=null===(a=e.match(/[0-9]*-[0-9]*-[0-9]*/))||void 0===a?void 0:a.join(),n=null===t||void 0===t?void 0:t.split("-");if(3===(null===n||void 0===n?void 0:n.length))return[n[2],n[1],n[0]].join("/")}t(1392);var h=function(){return r.a.createElement("footer",{className:"footer-bottom"},r.a.createElement("h4",null,"\xa9 Openbox.ai - 2019"))};var M=function(){var e=Object(s.b)(),a=Object(s.c)((function(e){return e.notasOperadas})),t=Object(s.c)((function(e){return e.resumoOperacoes})),l=Object(s.c)((function(e){return e.resumoAi})),c=Object(s.c)((function(e){return e.top5})),o=Object(s.c)((function(e){return e.calibreCurve}));return Object(n.useEffect)((function(){e((function(e){var a,t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.a.awrap(b.get("/notas"));case 2:a=n.sent,t=a.data,e({type:"GET_NOTAS",payload:t});case 5:case"end":return n.stop()}}))})),e((function(e){var a,t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.a.awrap(b.get("/consulta/predict_semanal"));case 2:a=n.sent,t=a.data,e({type:"GET_RESUMOS",payload:t});case 5:case"end":return n.stop()}}))})),e((function(e){var a,t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.a.awrap(b.get("/resumo_ai"));case 2:a=n.sent,t=a.data,e({type:"GET_RESUMO_AI",payload:t});case 5:case"end":return n.stop()}}))})),e((function(e){var a;return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(b.get("/top_5"));case 2:a=t.sent,e({type:"GET_TOP5",payload:a.data.top_5});case 4:case"end":return t.stop()}}))})),e((function(e){var a,t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.a.awrap(b.get("/consulta/calib_curve"));case 2:a=n.sent,t=a.data,e({type:"GET_LINECHART_DATA",payload:t});case 5:case"end":return n.stop()}}))}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i,null),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"layer1"},r.a.createElement("div",{className:"charts-container card"},r.a.createElement("div",{className:"card-chart"},r.a.createElement("header",null,r.a.createElement("h3",null,"Quantidade de notas por categoria")),r.a.createElement(O,{data:a}),r.a.createElement("footer",null,r.a.createElement("span",null,"Total de notas operadas: ",null===a||void 0===a?void 0:a.total_notas),r.a.createElement("span",{className:"alt","data-alt":"A quantidade de notas mostradas no gr\xe1fico fazem refer\xeancia a quantidade de notas utilizadas no treinamento do modelo de machine learning, ou seja, onde o cen\xe1rio fora conclu\xeddo."},r.a.createElement("i",{className:"material-icons"},"help"))))),r.a.createElement("div",{className:"resultado-semana-container card"},r.a.createElement("h3",null,"Resumo de opera\xe7\xf5es da semana"),r.a.createElement("span",{style:{fontWeight:"bold"}},"data de opera\xe7\xe3o"),r.a.createElement("span",{className:"data"},"".concat(D(t.dia_pred)," \xe0 ").concat(D(t.pred_until))),r.a.createElement("div",{className:"scrollable"},r.a.createElement(p,{cedente:t.cedente,sacado:t.sacado,dataVencimento:t.dataVencimento,predict:t.predict,prob_predict_0:t.prob_predict_0,prob_predict_1:t.prob_predict_1}))),r.a.createElement("div",{className:"layer2"},r.a.createElement("div",{className:"result-ai-container card"},r.a.createElement(T,{categories:l.categories})),r.a.createElement("div",{className:"card top-5-container"},r.a.createElement("h3",null,"Top 5 influ\xeancias"),r.a.createElement(S,{data:c})))),r.a.createElement("div",{className:"card line-chart-container"},r.a.createElement("header",null,r.a.createElement("h3",null,"Curva de Calibra\xe7\xe3o (Confian\xe7a)"),r.a.createElement("div",{className:"legend"},r.a.createElement("span",{className:"bullet1"}),r.a.createElement("legend",null,"Calibra\xe7\xe3o Ideal")),r.a.createElement("div",{className:"legend"},r.a.createElement("span",{className:"bullet2"}),r.a.createElement("legend",null,"Regress\xe3o Log\xedstica"))),r.a.createElement(v,{data:o}))),r.a.createElement(h,null))},P=t(202),g=I.a.create({baseURL:"http://localhost:3001"}),C=(t(1393),t(205)),L=(t(1394),function(e){var a=e.label,t=Object(C.a)(e,["label"]);return r.a.createElement("div",{className:"input-fiuld"},r.a.createElement("input",{type:t.type||"text",id:t.id,name:t.name,onChange:function(e){return function(e){var a=e.target,n=a.value,r=a.id;t.event(n,r),e.target.value.length>0?e.target.classList.add("not-empty"):e.target.classList.remove("not-empty")}(e)},"data-err":t.errData}),r.a.createElement("label",{htmlFor:t.id},a))}),_={email:"",password:""},y={err:""};var U=function(e){var a=e.history,t=Object(n.useState)(_),l=Object(d.a)(t,2),c=l[0],o=l[1],E=Object(n.useState)(y),s=Object(d.a)(E,2),i=(s[0],s[1],Object(n.useState)(!1)),A=Object(d.a)(i,2),m=A[0],O=(A[1],function(e,a){o(Object(u.a)({},c,Object(P.a)({},a,e)))});return r.a.createElement("main",{id:"signin"},r.a.createElement("form",{onSubmit:function(e){return function(e){var t,n;return N.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.next=3,N.a.awrap(g.post("/signin",c));case 3:t=r.sent,(n=t.data).token&&(localStorage.setItem("token",n.token),a.push("/dashboard"));case 6:case"end":return r.stop()}}))}(e)}},r.a.createElement(L,{label:"e-mail",id:"email",event:O,value:c.email,required:!0,disabled:m&&!0,errData:"sadadas"}),r.a.createElement(L,{label:"senha",id:"password",type:"password",event:O,value:c.password,required:!0,disabled:m&&!0}),r.a.createElement("button",{type:"submit",className:"submit"},"submit")))},Q=function(e){var a=e.component,t=Object(C.a)(e,["component"]);return r.a.createElement(E.b,Object.assign({},t,{render:function(e){return localStorage.getItem("token")?r.a.createElement(a,e):r.a.createElement(E.a,{to:{pathname:"/",state:{from:e.location}}})}}))};var x=function(){return r.a.createElement(o.a,null,r.a.createElement(E.d,null,r.a.createElement(Q,{component:U,exact:!0,path:"/"}),r.a.createElement(E.b,{path:"/dashboard",component:M})))},G=t(104),j=t(569),w=t(570);var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_RESUMOS":return a.payload;default:return e}},V={values:[0,0],labels:["Atraso","Em dia"],total_notas:0};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_NOTAS":return a.payload;default:return e}},B={accuracy:0,categories:{atraso:[0,0,0],em_dia:[0,0,0]}};var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_RESUMO_AI":return a.payload;default:return e}},W=[{label:"",value:0}];var q={calib_perfect_x:[0],calib_perfect_y:[0],labels:{label_x:"",label_y:""},legend:[""],logreg_x:[0],logreg_y:[0]};var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_LINECHART_DATA":return a.payload;default:return e}},z=Object(G.c)({resumoOperacoes:F,notasOperadas:k,resumoAi:H,top5:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_TOP5":return a.payload;default:return e}},calibreCurve:J}),Z=Object(G.d)(z,Object(G.a)(j.a));c.a.render(r.a.createElement(s.a,{store:Z},r.a.createElement(x,null)),document.getElementById("root"))},570:function(e){e.exports=JSON.parse('{"dia_pred":"2020-01-17 00:00:00","pred_until":"2020-01-24 00:00:00","cedente":["TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","SFCT COMERCIO DE PRODUTOS PARA INFORMATICA LTDA","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","WIKICONT CONTABILIDADE EIRELI","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TURISSUL LTDA","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON","TEDESCO EQUIPAMENTOS PARA GASTRON"],"sacado":["BAMAQ COM DE BAL E MAQ LTDA","CAMILA OLIVEIRA DA SILVA ME","DERLI NATALINO DA SILVA MEIRA ME","MULTIMAQUINAS REFRIG MAQ DEL REI LTDA ME","SORVEPAN COMERCIO DE REPRES LTDA","VERISSIMO MACCHINE COM MAQ E FER LTDA","QUINTANILHA E SOUZA LTDA","CITTON EQUIP P GASTRONOMIA EIRELI EPP","FERREIRA COSTA e CIA LTDA","EDVALDO R SILVA","LOJAMAQ UTENSILIOS E MAQS LTDA","ASTEMAQ COMERCIO DE EQUIP LTDA","G BENETTI DELAI EIRELI EPP","WERNER REPR COM FORNOS MAQ PAN LTDA","FORTUNATO LOCACOES EIRELI","MACHADO UTENSILIOS E MAQS LTDA EPP","UNIFRIO COMERCIO E REPRES LTDA","QUALITY IND DE ALIMENTOS LTDA","LEITE  LEITE LTDA","DERLI NATALINO DA SILVA MEIRA ME","CALEBE EQUIP INDUSTRIAIS EIRELI","PELZER SISTEMAS DO BRASIL LTDA","REMAISFRIO COM DE REFRIG LTDA","DERLI NATALINO DA SILVA MEIRA ME","BARRO PRETO MAQUINAS LTDA","MAQVALE MAQ E EQUIP P GASTRON LTDA","EMERSON DE CASTRO MACHADO OLIVEIRA-ME","C A M MARQUES INSTALACOES COMERCIAIS ME"],"dataVencimento":["2020-01-17 00:00:00","2020-01-17 00:00:00","2020-01-17 00:00:00","2020-01-17 00:00:00","2020-01-17 00:00:00","2020-01-17 00:00:00","2020-01-17 00:00:00","2020-01-18 00:00:00","2020-01-19 00:00:00","2020-01-19 00:00:00","2020-01-19 00:00:00","2020-01-19 00:00:00","2020-01-19 00:00:00","2020-01-20 00:00:00","2020-01-20 00:00:00","2020-01-20 00:00:00","2020-01-20 00:00:00","2020-01-21 00:00:00","2020-01-21 00:00:00","2020-01-21 00:00:00","2020-01-21 00:00:00","2020-01-21 00:00:00","2020-01-21 00:00:00","2020-01-22 00:00:00","2020-01-22 00:00:00","2020-01-23 00:00:00","2020-01-24 00:00:00","2020-01-24 00:00:00"],"atrasou_ult_nota":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"predict":[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0],"prob_predict_0":[0.9991940534816967,0.7586095442207856,0.9431882469673275,0.664011001034208,0.9392815357292768,0.9152589145290926,0.9975986830673005,0.9860630579929184,0.2914550772135047,0.9734700731497496,0.8464533125512675,0.979367047598073,0.9940975331760269,0.7333396123509587,0.9897137952504665,0.9538181474215622,0.9494643444462225,0.8861672205090182,0.4676321036795561,0.9967832218351744,0.9863706949628497,0.03347810182332711,0.634527880506652,0.9966951777753792,0.994810444103721,0.9015610803024094,0.9469568558664626,0.9106476869254265],"prob_predict_1":[0.0008059465183032947,0.24139045577921434,0.05681175303267251,0.33598899896579204,0.0607184642707233,0.08474108547090745,0.0024013169326995427,0.013936942007081577,0.7085449227864953,0.026529926850250365,0.15354668744873246,0.02063295240192701,0.005902466823973154,0.2666603876490413,0.010286204749533439,0.04618185257843774,0.050535655553777495,0.11383277949098183,0.5323678963204439,0.0032167781648256145,0.013629305037150305,0.9665218981766729,0.365472119493348,0.00330482222462081,0.005189555896279013,0.09843891969759051,0.05304314413353741,0.08935231307457346]}')},573:function(e,a,t){e.exports=t(1397)},578:function(e,a,t){},583:function(e,a,t){},587:function(e,a){},861:function(e,a){}},[[573,1,2]]]);
//# sourceMappingURL=main.3b3ec5b8.chunk.js.map